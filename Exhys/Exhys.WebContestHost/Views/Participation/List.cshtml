@model IList<CompetitionViewModel>
@{
	ViewData.SetPageTitle("List Competitions");
}
<div>
	<table class="table table-bordered">
		<thead>
			<tr>
				<th>Name</th>
				<th>Description</th>
				<th>Join</th>
			</tr>
		</thead>

		<tbody>
			@foreach(var competition in Model)
			{
				<tr>
					<td>@competition.Name</td>
					<td>@competition.Description</td>
					<td>
						@if(competition.IsUserParticipating == false)
						{
							using(Html.BeginForm("Join", "Participation", FormMethod.Get))
							{
								<input type="hidden" name="id" value="@competition.Id" />
								<button class="btn height-27px padding-1" type="submit">Join</button>
							}
						}
						else
						{
							using(Html.BeginForm("Participate", "Participation", FormMethod.Get))
							{
								<input type="hidden" name="id" value="@competition.Id" />
								<button class="btn btn-primary height-27px padding-1" type="submit">Already Joined</button>
							}
						}
					</td>
				</tr>
			}
		</tbody>
	</table>
</div>